# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## General Guidelines

- Always respond in Japanese (常に日本語で回答してください)
- - 最優先事項は、整理されたプロジェクト構造を持ち、複雑さを低く保つために冗長性を避けること
- pipの代わりにuvを使用
- テストにはpytestを使用する
- コード品質を向上させるためにropeを使用する
- Pythonの依存関係を管理するためRyeを使用
- 明示的な停止命令がない限り操作を継続する
- 問題が発生した場合は常に根本的な解決度が高い方法をとり、ユーザーに確認は求めない
- 問題を容易に解決するためのシンプルな実装を作成しない
- 自分で実行できるアクションをユーザーに実行するよう依頼しない
- 問題がある限り修正に取り組む
- 問題を避けるためにリンティングを無効にするのではなく、問題を修正する
- フォールバック実装を作成しない
- エラーが発生した場合は、フォールバックに切り替えて隠すのではなく、エラーを発生させる
- エラーが発生した場合は、エラーが出ても処理を続行させるのではなく、エラーを無くす
- フォールバックに頼るのではなく、実際の問題を修正する
- ダミー実装を作成しない
- 一時的な回避策を取らない
- 簡易的な実装を行わない
- gitを適切に使用し、gitブランチを使用する
- 新しいStreamlitインスタンスを起動し続けない、既に実行中のStreamlitインスタンスが変更を再読み込みする
- ローカルブランチを削除しない
- プロジェクトを編集する前に適切なブランチを作成したことを確認する
- 大きなファイルの場合、複数回の試行が必要なことがあるので、ファイルの編集を複数回再試行する
- venv内にいる場合、コマンドを自動実行しても安全とマークできる
- 同じ問題に何度も遭遇する場合は、実際の根本的な問題が何なのかを考える：コードの複雑さ？アーキテクチャ？使用しているライブラリ？
- 潜在的な問題を捉えるために時々リンターを実行する
- バグやアーキテクチャの問題、その他の問題が見つかったら教える
- ブランチ名とコミットメッセージは自分で選ぶ
- ファイルの編集に失敗した場合は、より小さな編集を試みる
- 質問する前に、自分で答えを見つけられるかどうか考える
- 終了したら、次に何ができるかのオプションリストを優先順位付きで提示する；また、次に何をすべきだと思うか教える
- 例外を飲み込まない
- 自分で情報を取得できる場合は、私に情報提供を依頼しない、あなたの方がずっと速いから
- 可能な場合はrmの代わりにgit rmを使用する
- 明示的に指示した場合にのみmainにマージし、developにマージした後にのみmainにマージする
- マージする際は、ブランチ全体をマージする
- 明示的に依頼しない限り、変更をスタッシュしない
- コミットメッセージは自分で決定する
- TDDに従う：可能であれば最初にテストを追加する
- 問題を早期に捉えるために多くのアサートを追加する
- ルールと矛盾することを依頼された場合は指摘する、ルールの更新が必要かもしれない
- バグやアーキテクチャの問題を指摘する
- 複雑さを避ける
- すべての要件に疑問を持つ
- サイクル時間を短縮する
- 「c」だけ送信した場合は「continue（続行）」を意味する

エイリアス：
'c'：続行
'rc'：機能を削除せずに複雑さを減らす
'hrc'：機能を削除せずに複雑さをどうやって減らせるか
's'：同じエラーが再び発生
'f'：修正
'e'：説明
't'：テストを追加
'ta'：もう一度試す
'ait'：統合テストを追加
'i'：調査
'ir'：調査して推奨事項を出す
'a'：すべてのテストを実行
'rc'：コードをレビュー
'rt'：コードをレビューして最も重要な箇所にテストを追加
'l'：リンターを実行
'rr'：プロジェクトをレビューする。推奨事項はあるか？各提案に優先順位を付ける
'acp'：git add, git commit, git push
'acpm'：git add, git commit, git push, git merge
'h'：どうやって続けるべき？次に何をすべきだと思うか教えてください
'wmi'：モックのみまたは全く実装されていない機能は何か？それを実装してください
'rope'：ropeを使用してコード構成を分析し改善する
'con'：統合する